{"version":3,"sources":["webpack:///webpack/bootstrap c6f15bab8187a0a262af","webpack:///./src/koa-app.js","webpack:///./node_modules/koa-compose/index.js","webpack:///./src/koa-context.js","webpack:///./node_modules/delegates/index.js","webpack:///./src/koa-request.js","webpack:///./node_modules/content-type/index.js","webpack:///./src/koa-response.js","webpack:///./node_modules/statuses/index.js","webpack:///./node_modules/statuses/codes.json"],"names":["KoaApp","middleware","ContextClass","ctx","prototype","use","fn","push","handler","compose","req","response","finalize","KoaContext","app","request","delegate","method","access","getter","KoaRequest","_url","URL","url","_method","_headers","headers","_querycache","get","field","toLowerCase","val","Headers","pathname","search","hash","parts","match","toString","qs","querystring","obj","searchParams","pair","Object","freeze","key","hasOwnProperty","escKey","window","encodeURIComponent","escValue","join","slice","str","s","status","fresh","header","methods","indexOf","type","contentType","parse","e","parameters","charset","len","protocolWithColon","protocol","split","delegateToUrl","name","target","defineProperty","set","KoaResponse","_status","_body","Response","console","log","redirect","alt","statuses","accepts","escape","body","attachment","filename","arguments","length","Array","isArray","i","append","remove","delete","flushHeaders","code","_statusMessage","msg","n","Date","toUTCString","date","test"],"mappings":";;AAAA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;;AAGA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAK;AACL;AACA;;AAEA;AACA;AACA;AACA,mCAA2B,0BAA0B,EAAE;AACvD,yCAAiC,eAAe;AAChD;AACA;AACA;;AAEA;AACA,8DAAsD,+DAA+D;;AAErH;AACA;;AAEA;AACA;;;;;;;;;;;;;;;;;;;;;AC7DA;AACA;;AAEA,IAAaA,MAAb;AAEE,oBAAc;AAAA;;AACZ,SAAKC,UAAL,GAAkB,EAAlB;AACA,SAAKC,YAAL;AAAA;;AAAA;AAAA;;AAAA;AAAA;;AAAA;AAAA,MAAkC,mEAAlC;AACA,SAAKC,GAAL,GAAW,KAAKD,YAAL,CAAkBE,SAA7B;AACD;;AANH,mBAQEC,GARF,gBAQMC,EARN,EAQU;AACN,SAAKL,UAAL,CAAgBM,IAAhB,CAAqBD,EAArB;AACD,GAVH;;AAAA,mBAYEE,OAZF,sBAYY;AAAA;;AACR,QAAIF,KAAK,mDAAAG,CAAQ,KAAKR,UAAb,CAAT;;AAEA;AAAA,yEAAO,iBAAOS,GAAP;AAAA;AAAA;AAAA;AAAA;AAAA;AACDP,mBADC,GACK,IAAI,OAAKD,YAAT,CAAsB,MAAtB,EAA4BQ,GAA5B,CADL;AAAA;AAAA,uBAGCJ,GAAGH,GAAH,CAHD;;AAAA;AAAA,iDAIEA,IAAIQ,QAAJ,CAAaC,QAAb,EAJF;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAAP;;AAAA;AAAA;AAAA;AAAA;AAMD,GArBH;;AAAA;AAAA,I;;;;;;;ACHA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA,WAAW,MAAM;AACjB,YAAY;AACZ;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA,aAAa,OAAO;AACpB,cAAc;AACd;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT,OAAO;AACP;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;;ACjDA;AACA;AACA;;AAEA,IAAaC,UAAb,GACE,oBAAYC,GAAZ,EAAiBJ,GAAjB,EAAsB;AAAA;;AACpB,OAAKI,GAAL,GAAWA,GAAX;AACA,OAAKC,OAAL,GAAe,IAAI,mEAAJ,CAAe,IAAf,EAAqBL,GAArB,CAAf;AACA,OAAKC,QAAL,GAAgB,IAAI,qEAAJ,CAAgB,IAAhB,CAAhB;AACD,CALH;;AAQA;;;AAGA,iDAAAK,CAASH,WAAWT,SAApB,EAA+B,UAA/B,EACGa,MADH,CACU,YADV,EAEGA,MAFH,CAEU,UAFV,EAGGA,MAHH,CAGU,QAHV,EAIGA,MAJH,CAIU,MAJV,EAKGA,MALH,CAKU,KALV,EAMGA,MANH,CAMU,QANV,EAOGA,MAPH,CAOU,cAPV,EAQGC,MARH,CAQU,QARV,EASGA,MATH,CASU,SATV,EAUGA,MAVH,CAUU,MAVV,EAWGA,MAXH,CAWU,QAXV,EAYGA,MAZH,CAYU,MAZV,EAaGA,MAbH,CAaU,cAbV,EAcGA,MAdH,CAcU,MAdV,EAeGC,MAfH,CAeU,YAfV,EAgBGA,MAhBH,CAgBU,UAhBV;;AAkBA;;;AAGA,iDAAAH,CAASH,WAAWT,SAApB,EAA+B,SAA/B,EACGa,MADH,CACU,kBADV,EAEGA,MAFH,CAEU,kBAFV,EAGGA,MAHH,CAGU,iBAHV,EAIGA,MAJH,CAIU,SAJV,EAKGA,MALH,CAKU,KALV,EAMGA,MANH,CAMU,IANV,EAOGC,MAPH,CAOU,aAPV,EAQGA,MARH,CAQU,YARV,EASGA,MATH,CASU,QATV,EAUGA,MAVH,CAUU,QAVV,EAWGA,MAXH,CAWU,QAXV,EAYGA,MAZH,CAYU,OAZV,EAaGA,MAbH,CAaU,MAbV,EAcGA,MAdH,CAcU,KAdV,EAeGC,MAfH,CAeU,QAfV,EAgBGA,MAhBH,CAgBU,MAhBV,EAiBGA,MAjBH,CAiBU,YAjBV,EAkBGA,MAlBH,CAkBU,UAlBV,EAmBGA,MAnBH,CAmBU,MAnBV,EAoBGA,MApBH,CAoBU,UApBV,EAqBGA,MArBH,CAqBU,KArBV,EAsBGA,MAtBH,CAsBU,QAtBV,EAuBGA,MAvBH,CAuBU,SAvBV,EAwBGA,MAxBH,CAwBU,QAxBV,EAyBGA,MAzBH,CAyBU,OAzBV,EA0BGA,MA1BH,CA0BU,OA1BV,EA2BGA,MA3BH,CA2BU,KA3BV,EA4BGA,MA5BH,CA4BU,IA5BV,E;;;;;;;ACnCA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA,WAAW,OAAO;AAClB,WAAW,OAAO;AAClB;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,WAAW,OAAO;AAClB,YAAY,UAAU;AACtB;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA,WAAW,OAAO;AAClB,YAAY,UAAU;AACtB;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA,WAAW,OAAO;AAClB,YAAY,UAAU;AACtB;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA,GAAG;;AAEH;AACA;;AAEA;AACA;AACA;AACA,WAAW,OAAO;AAClB,YAAY,UAAU;AACtB;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA,GAAG;;AAEH;AACA;;AAEA;AACA;AACA;AACA,WAAW,OAAO;AAClB,YAAY,UAAU;AACtB;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;;AAEA;AACA;;;;;;;;;;;;;;;ACxHA;;AAEA,IAAaC,UAAb;AACE,sBAAYjB,GAAZ,EAAiBO,GAAjB,EAAsB;AAAA;;AACpB,SAAKP,GAAL,GAAWA,GAAX;AACA,SAAKkB,IAAL,GAAY,IAAIC,GAAJ,CAAQZ,IAAIa,GAAZ,CAAZ;AACA,SAAKC,OAAL,GAAed,IAAIO,MAAnB;AACA,SAAKQ,QAAL,GAAgBf,IAAIgB,OAApB;AACA,SAAKC,WAAL,GAAmB,EAAnB;AACD;;AAPH,uBA8JEC,GA9JF,gBA8JMC,KA9JN,EA8Ja;AACT,QAAMH,UAAU,KAAKD,QAArB;;AAEA,YAAQI,QAAQA,MAAMC,WAAN,EAAhB;AACE,WAAK,UAAL;AACE,eAAOJ,QAAQE,GAAR,CAAY,SAAZ,CAAP;AACF;AACE,eAAOF,QAAQE,GAAR,CAAYC,KAAZ,CAAP;AAJJ;AAMD,GAvKH;;AAAA;AAAA;AAAA,wBASY;AACR,aAAO,KAAKR,IAAZ;AACD;AAXH;AAAA;AAAA,wBAae;AACX,aAAO,KAAKK,OAAZ;AACD,KAfH;AAAA,sBAiBaK,GAjBb,EAiBkB;AACd,WAAKL,OAAL,GAAeK,GAAf;AACD;AAnBH;AAAA;AAAA,wBAqBgB;AACZ,aAAO,KAAKN,QAAZ;AACD,KAvBH;AAAA,sBAyBcM,GAzBd,EAyBmB;AACf,WAAKN,QAAL,GAAgB,IAAIO,OAAJ,CAAYD,GAAZ,CAAhB;AACD;AA3BH;AAAA;AAAA,wBA6BY;AACR,aAAO,KAAKV,IAAL,CAAUY,QAAV,GAAqB,KAAKZ,IAAL,CAAUa,MAA/B,GAAwC,KAAKb,IAAL,CAAUc,IAAzD;AACD,KA/BH;AAAA,sBAiCUJ,GAjCV,EAiCe;AACX,UAAMK,QAAQL,IAAIM,KAAJ,CAAU,4BAAV,CAAd;;AAEA,WAAKhB,IAAL,CAAUY,QAAV,GAAqBG,MAAM,CAAN,CAArB;AACA,WAAKf,IAAL,CAAUa,MAAV,GAAmBE,MAAM,CAAN,KAAY,EAA/B;AACA,WAAKf,IAAL,CAAUc,IAAV,GAAiBC,MAAM,CAAN,KAAY,EAA7B;AACD;AAvCH;AAAA;AAAA,wBAyCa;AACT,aAAO,KAAKf,IAAL,CAAUiB,QAAV,EAAP;AACD;AA3CH;AAAA;AAAA,wBA6Ce;AACX,aAAO,KAAKd,OAAZ;AACD,KA/CH;AAAA,sBAiDaO,GAjDb,EAiDkB;AACd,WAAKP,OAAL,GAAeO,GAAf;AACD;AAnDH;AAAA;AAAA,wBAqDc;AACV,UAAMQ,KAAK,KAAKC,WAAhB;AACA,UAAIC,MAAM,KAAKd,WAAL,CAAiBY,EAAjB,CAAV;;AAEA,UAAIE,GAAJ,EAAS,OAAOA,GAAP;;AAETA,YAAM,KAAKd,WAAL,CAAiBY,EAAjB,IAAuB,EAA7B;;AAEA,2BAAmB,KAAKlB,IAAL,CAAUqB,YAA7B,kHAA2C;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;AAAA,YAAhCC,IAAgC;;AACzCF,YAAIE,KAAK,CAAL,CAAJ,IAAeA,KAAK,CAAL,CAAf;AACD;AACD,aAAOC,OAAOC,MAAP,CAAcJ,GAAd,CAAP;AACD,KAjEH;AAAA,sBAmEYA,GAnEZ,EAmEiB;AACb,UAAML,QAAQ,EAAd;;AAEA,WAAK,IAAMU,GAAX,IAAkBL,GAAlB,EAAuB;AACrB,YAAIA,IAAIM,cAAJ,CAAmBD,GAAnB,CAAJ,EAA6B;AAC3B,cAAME,SAASC,OAAOC,kBAAP,CAA0BJ,GAA1B,CAAf;AACA,cAAMK,WAAWF,OAAOC,kBAAP,CAA0BT,IAAIK,GAAJ,CAA1B,CAAjB;;AAEAV,gBAAM7B,IAAN,CAAcyC,MAAd,SAAwBG,QAAxB;AACD;AACF;AACD,WAAKX,WAAL,GAAmBJ,MAAMgB,IAAN,CAAW,GAAX,CAAnB;AACD;AA/EH;AAAA;AAAA,wBAiFoB;AAChB,aAAO,KAAKlB,MAAL,CAAYmB,KAAZ,CAAkB,CAAlB,CAAP;AACD,KAnFH;AAAA,sBAqFkBC,GArFlB,EAqFuB;AACnB,WAAKpB,MAAL,GAAcoB,GAAd;AACD;AAvFH;AAAA;AAAA,wBAyFc;AACV,UAAMrC,SAAS,KAAKA,MAApB;AACA,UAAMsC,IAAI,KAAKpD,GAAL,CAASqD,MAAnB;;AAEA;AACA,UAAIvC,WAAW,KAAX,IAAoBA,WAAW,MAAnC,EAA2C,OAAO,KAAP;;AAE3C;AACA,UAAKsC,KAAK,GAAL,IAAYA,IAAI,GAAjB,IAAyBA,MAAM,GAAnC,EAAwC;AACtC,eAAO,KAAKE,KAAL,CAAW,KAAKC,MAAhB,EAAwB,KAAKvD,GAAL,CAASQ,QAAT,CAAkB+C,MAA1C,CAAP;AACD;;AAED,aAAO,KAAP;AACD;AAtGH;AAAA;AAAA,wBAwGc;AACV,aAAO,CAAC,KAAKD,KAAb;AACD;AA1GH;AAAA;AAAA,wBA4GmB;AACf,UAAME,UAAU,CAAC,KAAD,EAAQ,MAAR,EAAgB,KAAhB,EAAuB,QAAvB,EAAiC,SAAjC,EAA4C,OAA5C,CAAhB;;AAEA,aAAO,CAAC,CAAC,CAACA,QAAQC,OAAR,CAAgB,KAAK3C,MAArB,CAAV;AACD;AAhHH;AAAA;AAAA,wBAkHgB;AACZ,UAAI4C,OAAO,KAAKjC,GAAL,CAAS,cAAT,CAAX;;AAEA,UAAI,CAACiC,IAAL,EAAW,OAAO,EAAP;;AAEX,UAAI;AACFA,eAAO,oDAAAC,CAAYC,KAAZ,CAAkBF,IAAlB,CAAP;AACD,OAFD,CAEE,OAAOG,CAAP,EAAU;AACV,eAAO,EAAP;AACD;;AAED,aAAOH,KAAKI,UAAL,CAAgBC,OAAhB,IAA2B,EAAlC;AACD;AA9HH;AAAA;AAAA,wBAgIe;AACX,UAAMC,MAAM,KAAKvC,GAAL,CAAS,gBAAT,CAAZ;;AAEA,UAAIuC,QAAQ,EAAZ,EAAgB,OAAO,CAAP;AAChB,aAAO,CAAC,CAACA,GAAT;AACD;AArIH;AAAA;AAAA,wBAuIiB;AACb,aAAO,KAAKC,iBAAL,CAAuBf,KAAvB,CAA6B,CAA7B,EAAgC,CAAC,CAAjC,CAAP;AACD;AAzIH;AAAA;AAAA,wBA2Ie;AACX,aAAO,KAAKgB,QAAL,KAAkB,OAAzB;AACD;AA7IH;AAAA;AAAA,wBA+IY;AACR,aAAO,EAAP;AACD;AAjJH;AAAA;AAAA,wBAmJmB;AACf,aAAO,EAAP;AACD;AArJH;AAAA;AAAA,wBAuJa;AACT,UAAMR,OAAO,KAAKjC,GAAL,CAAS,cAAT,CAAb;;AAEA,UAAI,CAACiC,IAAL,EAAW,OAAO,EAAP;AACX,aAAOA,KAAKS,KAAL,CAAW,GAAX,EAAgB,CAAhB,CAAP;AACD;AA5JH;;AAAA;AAAA;;AA0KA,SAASC,aAAT,CAAuBC,IAAvB,EAA6BC,MAA7B,EAAqC;AACnC,MAAI,CAACA,MAAL,EAAaA,SAASD,IAAT;;AAEb5B,SAAO8B,cAAP,CAAsBtD,WAAWhB,SAAjC,EAA4CoE,IAA5C,EAAkD;AAChD5C,SAAK,eAAY;AACf,aAAO,KAAKP,IAAL,CAAUoD,MAAV,CAAP;AACD,KAH+C;AAIhDE,SAAK,aAAU5C,GAAV,EAAe;AAClB,WAAKV,IAAL,CAAUoD,MAAV,IAAoB1C,GAApB;AACD;AAN+C,GAAlD;AAQD;;AAEDwC,cAAc,QAAd;AACAA,cAAc,MAAd,EAAsB,UAAtB;AACAA,cAAc,QAAd;AACAA,cAAc,MAAd;AACAA,cAAc,UAAd;AACAA,cAAc,mBAAd,EAAmC,UAAnC,E;;;;;;;AC9LA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA,wBAAwB;AACxB;AACA;AACA;AACA;AACA;AACA;AACA,kBAAkB;AAClB;AACA;AACA;AACA;AACA;AACA,qBAAqB;AACrB;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA,WAAW,OAAO;AAClB,YAAY;AACZ;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA,mBAAmB,mBAAmB;AACtC;;AAEA;AACA;AACA;;AAEA,kBAAkB;AAClB;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA,WAAW,cAAc;AACzB,YAAY;AACZ;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA,+BAA+B;AAC/B;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA,WAAW;AACX,YAAY;AACZ;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA,WAAW,OAAO;AAClB,YAAY;AACZ;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;;AC7NA;;AAEA,IAAaK,WAAb;AAEE,yBAAc;AAAA;;AACZ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","file":"koa-browser.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 0);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap c6f15bab8187a0a262af","import compose from 'koa-compose';\nimport {KoaContext} from './koa-context.js';\n\nexport class KoaApp {\n\n  constructor() {\n    this.middleware = [];\n    this.ContextClass = class extends KoaContext { };\n    this.ctx = this.ContextClass.prototype;\n  }\n\n  use(fn) {\n    this.middleware.push(fn);\n  }\n\n  handler() {\n    let fn = compose(this.middleware);\n\n    return async (req) => {\n      let ctx = new this.ContextClass(this, req);\n\n      await fn(ctx);\n      return ctx.response.finalize();\n    };\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/koa-app.js","'use strict'\n\n/**\n * Expose compositor.\n */\n\nmodule.exports = compose\n\n/**\n * Compose `middleware` returning\n * a fully valid middleware comprised\n * of all those which are passed.\n *\n * @param {Array} middleware\n * @return {Function}\n * @api public\n */\n\nfunction compose (middleware) {\n  if (!Array.isArray(middleware)) throw new TypeError('Middleware stack must be an array!')\n  for (const fn of middleware) {\n    if (typeof fn !== 'function') throw new TypeError('Middleware must be composed of functions!')\n  }\n\n  /**\n   * @param {Object} context\n   * @return {Promise}\n   * @api public\n   */\n\n  return function (context, next) {\n    // last called middleware #\n    let index = -1\n    return dispatch(0)\n    function dispatch (i) {\n      if (i <= index) return Promise.reject(new Error('next() called multiple times'))\n      index = i\n      let fn = middleware[i]\n      if (i === middleware.length) fn = next\n      if (!fn) return Promise.resolve()\n      try {\n        return Promise.resolve(fn(context, function next () {\n          return dispatch(i + 1)\n        }))\n      } catch (err) {\n        return Promise.reject(err)\n      }\n    }\n  }\n}\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/koa-compose/index.js\n// module id = 1\n// module chunks = 0","import delegate from 'delegates';\nimport {KoaRequest} from './koa-request.js';\nimport {KoaResponse} from './koa-response.js';\n\nexport class KoaContext {\n  constructor(app, req) {\n    this.app = app;\n    this.request = new KoaRequest(this, req);\n    this.response = new KoaResponse(this);\n  }\n}\n\n/**\n * Response delegation.\n */\ndelegate(KoaContext.prototype, 'response')\n  .method('attachment')\n  .method('redirect')\n  .method('remove')\n  .method('vary')\n  .method('set')\n  .method('append')\n  .method('flushHeaders')\n  .access('status')\n  .access('message')\n  .access('body')\n  .access('length')\n  .access('type')\n  .access('lastModified')\n  .access('etag')\n  .getter('headerSent')\n  .getter('writable');\n\n/**\n * Request delegation.\n */\ndelegate(KoaContext.prototype, 'request')\n  .method('acceptsLanguages')\n  .method('acceptsEncodings')\n  .method('acceptsCharsets')\n  .method('accepts')\n  .method('get')\n  .method('is')\n  .access('querystring')\n  .access('idempotent')\n  .access('socket')\n  .access('search')\n  .access('method')\n  .access('query')\n  .access('path')\n  .access('url')\n  .getter('origin')\n  .getter('href')\n  .getter('subdomains')\n  .getter('protocol')\n  .getter('host')\n  .getter('hostname')\n  .getter('URL')\n  .getter('header')\n  .getter('headers')\n  .getter('secure')\n  .getter('stale')\n  .getter('fresh')\n  .getter('ips')\n  .getter('ip');\n\n\n\n// WEBPACK FOOTER //\n// ./src/koa-context.js","\n/**\n * Expose `Delegator`.\n */\n\nmodule.exports = Delegator;\n\n/**\n * Initialize a delegator.\n *\n * @param {Object} proto\n * @param {String} target\n * @api public\n */\n\nfunction Delegator(proto, target) {\n  if (!(this instanceof Delegator)) return new Delegator(proto, target);\n  this.proto = proto;\n  this.target = target;\n  this.methods = [];\n  this.getters = [];\n  this.setters = [];\n  this.fluents = [];\n}\n\n/**\n * Delegate method `name`.\n *\n * @param {String} name\n * @return {Delegator} self\n * @api public\n */\n\nDelegator.prototype.method = function(name){\n  var proto = this.proto;\n  var target = this.target;\n  this.methods.push(name);\n\n  proto[name] = function(){\n    return this[target][name].apply(this[target], arguments);\n  };\n\n  return this;\n};\n\n/**\n * Delegator accessor `name`.\n *\n * @param {String} name\n * @return {Delegator} self\n * @api public\n */\n\nDelegator.prototype.access = function(name){\n  return this.getter(name).setter(name);\n};\n\n/**\n * Delegator getter `name`.\n *\n * @param {String} name\n * @return {Delegator} self\n * @api public\n */\n\nDelegator.prototype.getter = function(name){\n  var proto = this.proto;\n  var target = this.target;\n  this.getters.push(name);\n\n  proto.__defineGetter__(name, function(){\n    return this[target][name];\n  });\n\n  return this;\n};\n\n/**\n * Delegator setter `name`.\n *\n * @param {String} name\n * @return {Delegator} self\n * @api public\n */\n\nDelegator.prototype.setter = function(name){\n  var proto = this.proto;\n  var target = this.target;\n  this.setters.push(name);\n\n  proto.__defineSetter__(name, function(val){\n    return this[target][name] = val;\n  });\n\n  return this;\n};\n\n/**\n * Delegator fluent accessor\n *\n * @param {String} name\n * @return {Delegator} self\n * @api public\n */\n\nDelegator.prototype.fluent = function (name) {\n  var proto = this.proto;\n  var target = this.target;\n  this.fluents.push(name);\n\n  proto[name] = function(val){\n    if ('undefined' != typeof val) {\n      this[target][name] = val;\n      return this;\n    } else {\n      return this[target][name];\n    }\n  };\n\n  return this;\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/delegates/index.js\n// module id = 3\n// module chunks = 0","import contentType from 'content-type';\n\nexport class KoaRequest {\n  constructor(ctx, req) {\n    this.ctx = ctx;\n    this._url = new URL(req.url);\n    this._method = req.method;\n    this._headers = req.headers;\n    this._querycache = {};\n  }\n\n  get URL() {\n    return this._url;\n  }\n\n  get header() {\n    return this.headers;\n  }\n\n  set header(val) {\n    this.headers = val;\n  }\n\n  get headers() {\n    return this._headers;\n  }\n\n  set headers(val) {\n    this._headers = new Headers(val);\n  }\n\n  get url() {\n    return this._url.pathname + this._url.search + this._url.hash;\n  }\n\n  set url(val) {\n    const parts = val.match(/^([^?#]*)(\\?[^#]*)?(#.*)?$/);\n\n    this._url.pathname = parts[1];\n    this._url.search = parts[2] || '';\n    this._url.hash = parts[3] || '';\n  }\n\n  get href() {\n    return this._url.toString();\n  }\n\n  get method() {\n    return this._method;\n  }\n\n  set method(val) {\n    this._method = val;\n  }\n\n  get query() {\n    const qs = this.querystring;\n    let obj = this._querycache[qs];\n\n    if (obj) return obj;\n\n    obj = this._querycache[qs] = {};\n\n    for (const pair of this._url.searchParams) {\n      obj[pair[0]] = pair[1];\n    }\n    return Object.freeze(obj);\n  }\n\n  set query(obj) {\n    const parts = [];\n\n    for (const key in obj) {\n      if (obj.hasOwnProperty(key)) {\n        const escKey = window.encodeURIComponent(key);\n        const escValue = window.encodeURIComponent(obj[key]);\n\n        parts.push(`${escKey}=${escValue}`);\n      }\n    }\n    this.querystring = parts.join('&');\n  }\n\n  get querystring() {\n    return this.search.slice(1);\n  }\n\n  set querystring(str) {\n    this.search = str;\n  }\n\n  get fresh() {\n    const method = this.method;\n    const s = this.ctx.status;\n\n    // GET or HEAD for weak freshness validation only\n    if (method !== 'GET' && method !== 'HEAD') return false;\n\n    // 2xx or 304 as per rfc2616 14.26\n    if ((s >= 200 && s < 300) || s === 304) {\n      return this.fresh(this.header, this.ctx.response.header);\n    }\n\n    return false;\n  }\n\n  get stale() {\n    return !this.fresh;\n  }\n\n  get idempotent() {\n    const methods = ['GET', 'HEAD', 'PUT', 'DELETE', 'OPTIONS', 'TRACE'];\n\n    return !!~methods.indexOf(this.method);\n  }\n\n  get charset() {\n    let type = this.get('Content-Type');\n\n    if (!type) return '';\n\n    try {\n      type = contentType.parse(type);\n    } catch (e) {\n      return '';\n    }\n\n    return type.parameters.charset || '';\n  }\n\n  get length() {\n    const len = this.get('Content-Length');\n\n    if (len === '') return 0;\n    return ~~len;\n  }\n\n  get protocol() {\n    return this.protocolWithColon.slice(0, -1);\n  }\n\n  get secure() {\n    return this.protocol === 'https';\n  }\n\n  get ips() {\n    return [];\n  }\n\n  get subdomains() {\n    return [];\n  }\n\n  get type() {\n    const type = this.get('Content-Type');\n\n    if (!type) return '';\n    return type.split(';')[0];\n  }\n\n  get(field) {\n    const headers = this._headers;\n\n    switch (field = field.toLowerCase()) {\n      case 'referrer':\n        return headers.get('referer');\n      default:\n        return headers.get(field);\n    }\n  }\n}\n\nfunction delegateToUrl(name, target) {\n  if (!target) target = name;\n\n  Object.defineProperty(KoaRequest.prototype, name, {\n    get: function () {\n      return this._url[target];\n    },\n    set: function (val) {\n      this._url[target] = val;\n    }\n  });\n}\n\ndelegateToUrl('origin');\ndelegateToUrl('path', 'pathname');\ndelegateToUrl('search');\ndelegateToUrl('host');\ndelegateToUrl('hostname');\ndelegateToUrl('protocolWithColon', 'protocol');\n\n\n\n// WEBPACK FOOTER //\n// ./src/koa-request.js","/*!\n * content-type\n * Copyright(c) 2015 Douglas Christopher Wilson\n * MIT Licensed\n */\n\n'use strict'\n\n/**\n * RegExp to match *( \";\" parameter ) in RFC 7231 sec 3.1.1.1\n *\n * parameter     = token \"=\" ( token / quoted-string )\n * token         = 1*tchar\n * tchar         = \"!\" / \"#\" / \"$\" / \"%\" / \"&\" / \"'\" / \"*\"\n *               / \"+\" / \"-\" / \".\" / \"^\" / \"_\" / \"`\" / \"|\" / \"~\"\n *               / DIGIT / ALPHA\n *               ; any VCHAR, except delimiters\n * quoted-string = DQUOTE *( qdtext / quoted-pair ) DQUOTE\n * qdtext        = HTAB / SP / %x21 / %x23-5B / %x5D-7E / obs-text\n * obs-text      = %x80-FF\n * quoted-pair   = \"\\\" ( HTAB / SP / VCHAR / obs-text )\n */\nvar PARAM_REGEXP = /; *([!#$%&'*+.^_`|~0-9A-Za-z-]+) *= *(\"(?:[\\u000b\\u0020\\u0021\\u0023-\\u005b\\u005d-\\u007e\\u0080-\\u00ff]|\\\\[\\u000b\\u0020-\\u00ff])*\"|[!#$%&'*+.^_`|~0-9A-Za-z-]+) */g\nvar TEXT_REGEXP = /^[\\u000b\\u0020-\\u007e\\u0080-\\u00ff]+$/\nvar TOKEN_REGEXP = /^[!#$%&'*+.^_`|~0-9A-Za-z-]+$/\n\n/**\n * RegExp to match quoted-pair in RFC 7230 sec 3.2.6\n *\n * quoted-pair = \"\\\" ( HTAB / SP / VCHAR / obs-text )\n * obs-text    = %x80-FF\n */\nvar QESC_REGEXP = /\\\\([\\u000b\\u0020-\\u00ff])/g\n\n/**\n * RegExp to match chars that must be quoted-pair in RFC 7230 sec 3.2.6\n */\nvar QUOTE_REGEXP = /([\\\\\"])/g\n\n/**\n * RegExp to match type in RFC 7231 sec 3.1.1.1\n *\n * media-type = type \"/\" subtype\n * type       = token\n * subtype    = token\n */\nvar TYPE_REGEXP = /^[!#$%&'*+.^_`|~0-9A-Za-z-]+\\/[!#$%&'*+.^_`|~0-9A-Za-z-]+$/\n\n/**\n * Module exports.\n * @public\n */\n\nexports.format = format\nexports.parse = parse\n\n/**\n * Format object to media type.\n *\n * @param {object} obj\n * @return {string}\n * @public\n */\n\nfunction format (obj) {\n  if (!obj || typeof obj !== 'object') {\n    throw new TypeError('argument obj is required')\n  }\n\n  var parameters = obj.parameters\n  var type = obj.type\n\n  if (!type || !TYPE_REGEXP.test(type)) {\n    throw new TypeError('invalid type')\n  }\n\n  var string = type\n\n  // append parameters\n  if (parameters && typeof parameters === 'object') {\n    var param\n    var params = Object.keys(parameters).sort()\n\n    for (var i = 0; i < params.length; i++) {\n      param = params[i]\n\n      if (!TOKEN_REGEXP.test(param)) {\n        throw new TypeError('invalid parameter name')\n      }\n\n      string += '; ' + param + '=' + qstring(parameters[param])\n    }\n  }\n\n  return string\n}\n\n/**\n * Parse media type to object.\n *\n * @param {string|object} string\n * @return {Object}\n * @public\n */\n\nfunction parse (string) {\n  if (!string) {\n    throw new TypeError('argument string is required')\n  }\n\n  // support req/res-like objects as argument\n  var header = typeof string === 'object'\n    ? getcontenttype(string)\n    : string\n\n  if (typeof header !== 'string') {\n    throw new TypeError('argument string is required to be a string')\n  }\n\n  var index = header.indexOf(';')\n  var type = index !== -1\n    ? header.substr(0, index).trim()\n    : header.trim()\n\n  if (!TYPE_REGEXP.test(type)) {\n    throw new TypeError('invalid media type')\n  }\n\n  var obj = new ContentType(type.toLowerCase())\n\n  // parse parameters\n  if (index !== -1) {\n    var key\n    var match\n    var value\n\n    PARAM_REGEXP.lastIndex = index\n\n    while ((match = PARAM_REGEXP.exec(header))) {\n      if (match.index !== index) {\n        throw new TypeError('invalid parameter format')\n      }\n\n      index += match[0].length\n      key = match[1].toLowerCase()\n      value = match[2]\n\n      if (value[0] === '\"') {\n        // remove quotes and escapes\n        value = value\n          .substr(1, value.length - 2)\n          .replace(QESC_REGEXP, '$1')\n      }\n\n      obj.parameters[key] = value\n    }\n\n    if (index !== header.length) {\n      throw new TypeError('invalid parameter format')\n    }\n  }\n\n  return obj\n}\n\n/**\n * Get content-type from req/res objects.\n *\n * @param {object}\n * @return {Object}\n * @private\n */\n\nfunction getcontenttype (obj) {\n  var header\n\n  if (typeof obj.getHeader === 'function') {\n    // res-like\n    header = obj.getHeader('content-type')\n  } else if (typeof obj.headers === 'object') {\n    // req-like\n    header = obj.headers && obj.headers['content-type']\n  }\n\n  if (typeof header !== 'string') {\n    throw new TypeError('content-type header is missing from object')\n  }\n\n  return header\n}\n\n/**\n * Quote a string if necessary.\n *\n * @param {string} val\n * @return {string}\n * @private\n */\n\nfunction qstring (val) {\n  var str = String(val)\n\n  // no need to quote tokens\n  if (TOKEN_REGEXP.test(str)) {\n    return str\n  }\n\n  if (str.length > 0 && !TEXT_REGEXP.test(str)) {\n    throw new TypeError('invalid parameter value')\n  }\n\n  return '\"' + str.replace(QUOTE_REGEXP, '\\\\$1') + '\"'\n}\n\n/**\n * Class to represent a content type.\n * @private\n */\nfunction ContentType (type) {\n  this.parameters = Object.create(null)\n  this.type = type\n}\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/content-type/index.js\n// module id = 5\n// module chunks = 0","import statuses from 'statuses';\n\nexport class KoaResponse {\n\n  constructor() {\n    this._headers = new Headers();\n    this._status = 404;\n    this._body = null;\n  }\n\n  finalize() {\n    const response = new Response(this._body, {\n      status: this._status,\n      headers: this._headers\n    });\n\n    console.log('finalize', response);\n    return response;\n  }\n\n  get header() {\n    return this._headers;\n  }\n\n  get headers() {\n    return this.header;\n  }\n\n  get status() {\n    return this._status;\n  }\n\n  set status(code) {\n    this._status = code;\n  }\n\n  get message() {\n    return this._statusMessage || statuses[this.status];\n  }\n\n  set message(msg) {\n    this._statusMessage = msg;\n  }\n\n  get body() {\n    return this._body;\n  }\n\n  set body(val) {\n    this._body = val;\n  }\n\n  set length(n) {\n    // do nothing\n  }\n\n  get length() {\n    return 0;\n  }\n\n  get headerSent() {\n    return false;\n  }\n\n  redirect(url, alt) {\n    // location\n    if (url === 'back') url = this.ctx.get('Referrer') || alt || '/';\n    this.set('Location', url);\n\n    // status\n    if (!statuses.redirect[this.status]) this.status = 302;\n\n    // html\n    if (this.ctx.accepts('html')) {\n      url = escape(url);\n      this.type = 'text/html; charset=utf-8';\n      this.body = `Redirecting to <a href=\"${url}\">${url}</a>.`;\n      return;\n    }\n\n    // text\n    this.type = 'text/plain; charset=utf-8';\n    this.body = `Redirecting to ${url}.`;\n  }\n\n  attachment(filename) {\n    // if (filename) this.type = extname(filename);\n    // this.set('Content-Disposition', contentDisposition(filename));\n  }\n\n  set type(type) {\n    if (type) {\n      this.set('Content-Type', type);\n    } else {\n      this.remove('Content-Type');\n    }\n  }\n\n  set lastModified(val) {\n    if (typeof val === 'string') val = new Date(val);\n    this.set('Last-Modified', val.toUTCString());\n  }\n\n  get lastModified() {\n    const date = this.get('last-modified');\n\n    if (date) return new Date(date);\n    return null;\n  }\n\n  set etag(val) {\n    if (!/^(W\\/)?\"/.test(val)) val = `\"${val}\"`;\n    this.set('ETag', val);\n  }\n\n  get etag() {\n    return this.get('ETag');\n  }\n\n  get type() {\n    const type = this.get('Content-Type');\n\n    if (!type) return '';\n    return type.split(';')[0];\n  }\n\n  get(field) {\n    return this.header.get(field);\n  }\n\n  set(field, val) {\n    if (arguments.length === 2) {\n      if (Array.isArray(val)) {\n        this._headers.set(field, val[0]);\n        for (let i = 1; i < val.length; i++) {\n          this._headers.append(field, val[i]);\n        }\n      } else {\n        this._headers.set(field, val);\n      }\n    } else {\n      for (const key in field) {\n        this.set(key, field[key]);\n      }\n    }\n  }\n\n  append(field, val) {\n    if (Array.isArray(val)) {\n      for (let i = 0; i < val.length; i++) {\n        this._headers.append(field, val[i]);\n      }\n    } else {\n      this._headers.append(field, val);\n    }\n  }\n\n  remove(field) {\n    this._headers.delete(field);\n  }\n\n  get writable() {\n    return true;\n  }\n\n  flushHeaders() {\n    // do nothing\n  }\n};\n\n\n\n// WEBPACK FOOTER //\n// ./src/koa-response.js","/*!\n * statuses\n * Copyright(c) 2014 Jonathan Ong\n * Copyright(c) 2016 Douglas Christopher Wilson\n * MIT Licensed\n */\n\n'use strict'\n\n/**\n * Module dependencies.\n * @private\n */\n\nvar codes = require('./codes.json')\n\n/**\n * Module exports.\n * @public\n */\n\nmodule.exports = status\n\n// status code to message map\nstatus.STATUS_CODES = codes\n\n// array of status codes\nstatus.codes = populateStatusesMap(status, codes)\n\n// status codes for redirects\nstatus.redirect = {\n  300: true,\n  301: true,\n  302: true,\n  303: true,\n  305: true,\n  307: true,\n  308: true\n}\n\n// status codes for empty bodies\nstatus.empty = {\n  204: true,\n  205: true,\n  304: true\n}\n\n// status codes for when you should retry the request\nstatus.retry = {\n  502: true,\n  503: true,\n  504: true\n}\n\n/**\n * Populate the statuses map for given codes.\n * @private\n */\n\nfunction populateStatusesMap (statuses, codes) {\n  var arr = []\n\n  Object.keys(codes).forEach(function forEachCode (code) {\n    var message = codes[code]\n    var status = Number(code)\n\n    // Populate properties\n    statuses[status] = message\n    statuses[message] = status\n    statuses[message.toLowerCase()] = status\n\n    // Add to array\n    arr.push(status)\n  })\n\n  return arr\n}\n\n/**\n * Get the status code.\n *\n * Given a number, this will throw if it is not a known status\n * code, otherwise the code will be returned. Given a string,\n * the string will be parsed for a number and return the code\n * if valid, otherwise will lookup the code assuming this is\n * the status message.\n *\n * @param {string|number} code\n * @returns {number}\n * @public\n */\n\nfunction status (code) {\n  if (typeof code === 'number') {\n    if (!status[code]) throw new Error('invalid status code: ' + code)\n    return code\n  }\n\n  if (typeof code !== 'string') {\n    throw new TypeError('code must be a number or string')\n  }\n\n  // '403'\n  var n = parseInt(code, 10)\n  if (!isNaN(n)) {\n    if (!status[n]) throw new Error('invalid status code: ' + n)\n    return n\n  }\n\n  n = status[code.toLowerCase()]\n  if (!n) throw new Error('invalid status message: \"' + code + '\"')\n  return n\n}\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/statuses/index.js\n// module id = 7\n// module chunks = 0","module.exports = {\"100\":\"Continue\",\"101\":\"Switching Protocols\",\"102\":\"Processing\",\"200\":\"OK\",\"201\":\"Created\",\"202\":\"Accepted\",\"203\":\"Non-Authoritative Information\",\"204\":\"No Content\",\"205\":\"Reset Content\",\"206\":\"Partial Content\",\"207\":\"Multi-Status\",\"208\":\"Already Reported\",\"226\":\"IM Used\",\"300\":\"Multiple Choices\",\"301\":\"Moved Permanently\",\"302\":\"Found\",\"303\":\"See Other\",\"304\":\"Not Modified\",\"305\":\"Use Proxy\",\"306\":\"(Unused)\",\"307\":\"Temporary Redirect\",\"308\":\"Permanent Redirect\",\"400\":\"Bad Request\",\"401\":\"Unauthorized\",\"402\":\"Payment Required\",\"403\":\"Forbidden\",\"404\":\"Not Found\",\"405\":\"Method Not Allowed\",\"406\":\"Not Acceptable\",\"407\":\"Proxy Authentication Required\",\"408\":\"Request Timeout\",\"409\":\"Conflict\",\"410\":\"Gone\",\"411\":\"Length Required\",\"412\":\"Precondition Failed\",\"413\":\"Payload Too Large\",\"414\":\"URI Too Long\",\"415\":\"Unsupported Media Type\",\"416\":\"Range Not Satisfiable\",\"417\":\"Expectation Failed\",\"418\":\"I'm a teapot\",\"421\":\"Misdirected Request\",\"422\":\"Unprocessable Entity\",\"423\":\"Locked\",\"424\":\"Failed Dependency\",\"425\":\"Unordered Collection\",\"426\":\"Upgrade Required\",\"428\":\"Precondition Required\",\"429\":\"Too Many Requests\",\"431\":\"Request Header Fields Too Large\",\"451\":\"Unavailable For Legal Reasons\",\"500\":\"Internal Server Error\",\"501\":\"Not Implemented\",\"502\":\"Bad Gateway\",\"503\":\"Service Unavailable\",\"504\":\"Gateway Timeout\",\"505\":\"HTTP Version Not Supported\",\"506\":\"Variant Also Negotiates\",\"507\":\"Insufficient Storage\",\"508\":\"Loop Detected\",\"509\":\"Bandwidth Limit Exceeded\",\"510\":\"Not Extended\",\"511\":\"Network Authentication Required\"}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/statuses/codes.json\n// module id = 8\n// module chunks = 0"],"sourceRoot":""}